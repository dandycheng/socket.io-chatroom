<!DOCTYPE html>
<html class='w-100 h-100'>
    <head>
        <title>Chatroom</title>
        <link rel='stylesheet' href='https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css' integrity='sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T' crossorigin='anonymous'>
		<script src='https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js'></script>
		<script src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js'></script>
		<script src='https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js'></script>
		<link rel='stylesheet' href='chatroom.css'>
        <meta name='viewport' content='width=device-width,initial-scale=1.0'>
    </head>
    <body class='w-100 h-100'>
        <header class='container-fluid d-flex flex-row justify-content-between bg-dark p-2 px-4'>
            <div class='chat-menu'>
                <button id='end-chat' class='btn btn-light rounded-circle' title='End chat'></button>
                <button id='export-chat' class='btn btn-light rounded-circle' title='Export chat'></button>
            </div>
            <button id='log-out-btn' class='btn m-0'></button>
        </header>
       <main class='w-100 d-flex flex-row'>
            <div id='chat-components' class='h-100 w-100 pr-5 p-2 d-flex flex-column justify-content-between'>
                <section id='chat-area' class='d-flex flex-column w-100'></section>
                <div id='chat-interactive-area' class='w-100 d-flex flex-row'>
                    <div id='chat-textbox' class='w-100 h-100 bg-light p-3' contenteditable></div>
                    <div id='send-btn-wrapper' class='d-flex bg-light h-100 justify-content-center pb-2'>
                        <button id='send-btn' class='btn position-relative' title='Send message'></button>
                    </div>
                </div>
            </div>
            <section id='users' class='d-flex flex-column position-absolute h-100 pl-4 p-3 bg-light'>
                <div id='users-list-toggle' class='h-100 bg-dark position-absolute'></div>
                <h3 class='pb-2'>Users</h3>
                <ul id='users-list' class='p-0'></ul>
            </section>
       </main> 
       <!-- Insert these scripts at the bottom of the HTML, but before you use any Firebase services -->

        <!-- Firebase App (the core Firebase SDK) is always required and must be listed first -->
        <script src="https://www.gstatic.com/firebasejs/6.0.2/firebase-app.js"></script>
      
        <!-- Add Firebase products that you want to use -->
        <script src="https://www.gstatic.com/firebasejs/6.0.2/firebase-auth.js"></script>
        <script src="https://www.gstatic.com/firebasejs/6.0.2/firebase-firestore.js"></script>
        <script src="https://www.gstatic.com/firebasejs/6.0.4/firebase-database.js"></script>
        <script src="/socket.io/socket.io.js"></script>
        <script>
            // Your web app's Firebase configuration
            var firebaseConfig = {
                apiKey: "AIzaSyDeiInbWqaWjoY37TQbChxBgEdG7-kjVu8",
                authDomain: "chat-room-d1e5c.firebaseapp.com",
                databaseURL: "https://chat-room-d1e5c.firebaseio.com",
                projectId: "chat-room-d1e5c",
                storageBucket: "chat-room-d1e5c.appspot.com",
                messagingSenderId: "1057383795011",
                appId: "1:1057383795011:web:6c42e0c0b4dc105b"
            }
            // Initialize Firebase
            firebase.initializeApp(firebaseConfig)
            firebase.auth().onAuthStateChanged(function(user){
                if(!user)
                    window.location.replace('../login/login.html')
            })
            var database = firebase.database()
        </script>
        <script src="../util/util.js"></script>
       <script src='chatroom.js'></script>
    </body>
</html>
